<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>mac使用jenv管理jdk版本</title>
      <link href="/2025/01/18/mac%E4%BD%BF%E7%94%A8jenv%E7%AE%A1%E7%90%86jdk%E7%89%88%E6%9C%AC/"/>
      <url>/2025/01/18/mac%E4%BD%BF%E7%94%A8jenv%E7%AE%A1%E7%90%86jdk%E7%89%88%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="1-安装指定版本的JDK（以JDK17为例）"><a href="#1-安装指定版本的JDK（以JDK17为例）" class="headerlink" title="1. 安装指定版本的JDK（以JDK17为例）"></a>1. 安装指定版本的JDK（以JDK17为例）</h1><h2 id="1-1-brew安装JDK17"><a href="#1-1-brew安装JDK17" class="headerlink" title="1.1 brew安装JDK17"></a>1.1 <code>brew</code>安装JDK17</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install openjdk@17</span><br></pre></td></tr></table></figure><h2 id="1-2-添加软连接"><a href="#1-2-添加软连接" class="headerlink" title="1.2 添加软连接"></a>1.2 添加软连接</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -sfn /opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-17.jdk </span><br></pre></td></tr></table></figure><h2 id="1-3-添加到jenv"><a href="#1-3-添加到jenv" class="headerlink" title="1.3 添加到jenv"></a>1.3 添加到<code>jenv</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jenv add /Library/Java/JavaVirtualMachines/openjdk-17.jdk/Contents/Home</span><br></pre></td></tr></table></figure><h1 id="2-jEnv管理JDK"><a href="#2-jEnv管理JDK" class="headerlink" title="2. jEnv管理JDK"></a>2. jEnv管理JDK</h1><h2 id="2-1-安装jEnv"><a href="#2-1-安装jEnv" class="headerlink" title="2.1 安装jEnv"></a>2.1 安装jEnv</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ brew install jenv</span><br><span class="line">$ <span class="built_in">exec</span> <span class="variable">$SHELL</span> -l</span><br></pre></td></tr></table></figure><h2 id="2-2-安装完成之后，检查是否安装成功"><a href="#2-2-安装完成之后，检查是否安装成功" class="headerlink" title="2.2 安装完成之后，检查是否安装成功"></a>2.2 安装完成之后，检查是否安装成功</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ jenv doctor</span><br><span class="line">[OK]    No JAVA_HOME <span class="built_in">set</span></span><br><span class="line">[ERROR] Java binary <span class="keyword">in</span> path is not <span class="keyword">in</span> the jenv shims.</span><br><span class="line">[ERROR] Please check your path, or try using /path/to/java/home is not a valid path to java installation.</span><br><span class="line">    PATH : /usr/local/Cellar/jenv/0.5.2/libexec/libexec:/Users/xxx/.cargo/bin:/Users/xxx/.pyenv/shims:/Users/username/.pyenv:/Users/xxx/.nvm/versions/node/v8.11.4/bin:/Users/xxx/bin:/usr/local/bin:/Users/xxx/.cargo/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/xxx/Documents/Projects/golang/bin</span><br><span class="line">[ERROR] Jenv is not loaded <span class="keyword">in</span> your zsh</span><br><span class="line">[ERROR] To fix :    <span class="built_in">echo</span> <span class="built_in">eval</span> <span class="string">&quot;<span class="subst">$(jenv init -)</span>&quot;</span> &gt;&gt; /Users/xxx/.zshrc</span><br></pre></td></tr></table></figure><h2 id="2-3-配置环境变量"><a href="#2-3-配置环境变量" class="headerlink" title="2.3 配置环境变量"></a>2.3 配置环境变量</h2><p>（如果是第一次安装JENV需要配置环境变量，否则，直接到2.4）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#x27;</span> &gt;&gt; ~/.zshrc</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;eval &quot;$(jenv init -)&quot;&#x27;</span> &gt;&gt; ~/.zshrc</span><br><span class="line">$ <span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>为了能够正确地设置<code>JAVA_HOME</code>，最好开启<code>export</code>插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ jenv enable-plugin <span class="built_in">export</span></span><br><span class="line">$ <span class="built_in">exec</span> <span class="variable">$SHELL</span> -l</span><br></pre></td></tr></table></figure><h2 id="2-4-添加JDK到JENV"><a href="#2-4-添加JDK到JENV" class="headerlink" title="2.4 添加JDK到JENV"></a>2.4 添加JDK到JENV</h2><p>添加最新安装的JDK：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jenv add /Library/Java/JavaVirtualMachines/openjdk-17.jdk/Contents/Home</span><br></pre></td></tr></table></figure><h2 id="2-5-查看JDK版本"><a href="#2-5-查看JDK版本" class="headerlink" title="2.5 查看JDK版本"></a>2.5 查看JDK版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jenv versions</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/lanofblue/typora-pictures/main/img/image-20250118184012646.png?token=ATD4M2E65L6LVSQF2FAQDLLHROCUU" alt="image-20250118184012646"></p><h2 id="2-6-切换JDK版本"><a href="#2-6-切换JDK版本" class="headerlink" title="2.6 切换JDK版本"></a>2.6 切换JDK版本</h2><h3 id="Global"><a href="#Global" class="headerlink" title="Global"></a>Global</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ jenv global 13</span><br><span class="line">$ <span class="built_in">exec</span> <span class="variable">$SHELL</span> -l </span><br><span class="line">$ java -version</span><br></pre></td></tr></table></figure><h3 id="Local"><a href="#Local" class="headerlink" title="Local"></a>Local</h3><p>在某个工作目录下设置JDK版本，会在当前目录下创建一个<code>.java-version</code>的文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ jenv <span class="built_in">local</span> 1.8</span><br><span class="line">$ <span class="built_in">exec</span> <span class="variable">$SHELL</span> -l </span><br><span class="line">$ java -version</span><br></pre></td></tr></table></figure><h3 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h3><p>设置当前Shell session中的JDK版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ jenv shell 1.8</span><br><span class="line">$ java -version</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> mac </tag>
            
            <tag> jenv </tag>
            
            <tag> jdk </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
